/* ========================================
   OPTIMIZACIONES MÃ“VILES - CEMI SISTEMA
   ======================================== */

/* Performance optimizations */
* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

/* Smooth scrolling on mobile */
html {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent zoom on inputs */
input, select, textarea {
  font-size: 16px !important;
}

/* ========================================
   RESPONSIVE BREAKPOINTS
   ======================================== */

/* Extra Small Devices (phones, 320px - 480px) */
@media (max-width: 480px) {
  /* Dashboard Layout */
  .dashboard-container {
    grid-template-columns: 1fr !important;
  }

  .sidebar {
    position: fixed;
    left: -280px;
    top: 0;
    height: 100vh;
    width: 280px;
    z-index: 1000;
    transition: left 0.3s ease;
  }

  .sidebar.active {
    left: 0;
  }

  .main-content {
    margin-left: 0 !important;
    padding: 60px 10px 20px 10px !important;
  }

  /* Cards and Metrics */
  .metrics-grid,
  .stats-grid,
  .info-grid {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  .metric-card,
  .stat-card {
    padding: 16px !important;
  }

  .metric-card h3,
  .stat-card h3 {
    font-size: 14px !important;
  }

  .metric-card .value,
  .stat-card .value {
    font-size: 24px !important;
  }

  /* Tables */
  .data-table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .data-table {
    min-width: 600px;
    font-size: 13px !important;
  }

  .data-table th,
  .data-table td {
    padding: 8px 6px !important;
  }

  /* Modals */
  .modal-content,
  .swal2-popup {
    width: 95% !important;
    max-width: 95% !important;
    margin: 0 auto !important;
    max-height: 90vh;
    overflow-y: auto;
  }

  .modal-header h2,
  .swal2-title {
    font-size: 18px !important;
  }

  /* Forms */
  .form-group {
    margin-bottom: 12px !important;
  }

  .form-label {
    font-size: 13px !important;
  }

  .form-control,
  .form-select {
    padding: 10px !important;
    font-size: 15px !important;
  }

  /* Buttons */
  .btn,
  .button-group button {
    padding: 10px 16px !important;
    font-size: 14px !important;
  }

  .button-group {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .button-group button {
    width: 100% !important;
  }

  /* Mobile Menu Toggle */
  .mobile-menu-toggle {
    display: flex !important;
    position: fixed;
    top: 15px;
    left: 15px;
    z-index: 999;
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }

  /* Curso cards */
  .curso-card,
  .catalogo-curso-card {
    padding: 16px !important;
  }

  .curso-card h3,
  .catalogo-curso-card h3 {
    font-size: 16px !important;
  }

  /* Cuotas grid */
  .cuotas-grid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)) !important;
    gap: 8px !important;
  }

  .cuota-mes {
    padding: 10px 6px !important;
    font-size: 11px !important;
  }

  /* Chat */
  .chat-container {
    height: 70vh !important;
  }

  .chat-messages {
    padding: 10px !important;
  }

  .message {
    max-width: 85% !important;
    font-size: 14px !important;
  }

  /* Paneles laterales */
  .curso-detalle-panel,
  .curso-detalle-panel-alumno {
    width: 100% !important;
    max-width: 100% !important;
    right: -100% !important;
  }

  .curso-detalle-panel.active,
  .curso-detalle-panel-alumno.active {
    right: 0 !important;
  }
}

/* Small Devices (tablets, 481px - 768px) */
@media (min-width: 481px) and (max-width: 768px) {
  .sidebar {
    width: 240px;
  }

  .main-content {
    padding: 30px 20px !important;
  }

  .metrics-grid,
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .data-table {
    font-size: 14px !important;
  }

  .modal-content {
    width: 90% !important;
    max-width: 600px !important;
  }

  .cuotas-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)) !important;
  }

  .mobile-menu-toggle {
    display: flex !important;
  }

  .sidebar {
    position: fixed;
    left: -240px;
    transition: left 0.3s ease;
  }

  .sidebar.active {
    left: 0;
    z-index: 1000;
  }
}

/* Medium Devices (tablets landscape, 769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .sidebar {
    width: 220px;
  }

  .main-content {
    margin-left: 220px;
    padding: 40px 30px;
  }

  .metrics-grid,
  .stats-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .data-table {
    font-size: 14px;
  }

  .curso-detalle-panel,
  .curso-detalle-panel-alumno {
    width: 500px !important;
  }
}

/* ========================================
   LANDSCAPE OPTIMIZATIONS
   ======================================== */
@media (max-height: 600px) and (orientation: landscape) {
  .modal-content,
  .swal2-popup {
    max-height: 95vh !important;
    overflow-y: auto !important;
  }

  .curso-detalle-panel,
  .curso-detalle-panel-alumno {
    padding: 15px !important;
  }

  .panel-header-alumno,
  .panel-header {
    padding: 12px !important;
  }
}

/* ========================================
   TOUCH OPTIMIZATIONS
   ======================================== */
@media (hover: none) and (pointer: coarse) {
  /* Increase touch targets */
  button,
  .btn,
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Better spacing for touch */
  .nav-item {
    padding: 14px 20px !important;
  }

  /* Prevent double-tap zoom */
  * {
    touch-action: manipulation;
  }
}

/* ========================================
   PERFORMANCE UTILITIES
   ======================================== */

/* Reduce animations on slower devices */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* GPU acceleration for smooth animations */
.sidebar,
.modal-content,
.curso-detalle-panel,
.curso-detalle-panel-alumno {
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

/* Hide elements efficiently */
.hidden {
  display: none !important;
  visibility: hidden !important;
}

/* Optimize scrolling */
.scrollable {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* ========================================
   PRINT OPTIMIZATIONS
   ======================================== */
@media print {
  .sidebar,
  .mobile-menu-toggle,
  .btn,
  .button-group {
    display: none !important;
  }

  .main-content {
    margin: 0 !important;
    padding: 0 !important;
  }

  * {
    color: #000 !important;
    background: #fff !important;
  }
}
