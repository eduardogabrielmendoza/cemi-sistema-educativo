/* ===== MOBILE RESPONSIVE FIXES - GLOBAL ===== */
/* Este archivo corrige todos los problemas responsive en mobile */

/* Prevenir scroll horizontal en TODAS las p√°ginas */
* {
  box-sizing: border-box !important;
}

html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  width: 100% !important;
}

/* Contenedores principales */
.classroom-container,
.dashboard-container,
.container,
.main-content,
.classroom-main {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  width: 100% !important;
}

/* Mobile: pantallas menores a 768px */
@media (max-width: 767px) {
  /* === LAYOUTS Y CONTAINERS === */
  body {
    padding: 0 !important;
    margin: 0 !important;
  }

  .classroom-container,
  .dashboard-container {
    padding: 0 !important;
    margin: 0 !important;
  }

  .classroom-main,
  .main-content {
    margin-left: 0 !important;
    width: 100% !important;
    padding: 12px !important;
  }

  /* === SIDEBARS === */
  .classroom-sidebar,
  .dashboard-sidebar,
  .sidebar {
    position: fixed !important;
    left: -100% !important;
    width: 85% !important;
    max-width: 300px !important;
    height: 100vh !important;
    z-index: 999 !important;
    transition: left 0.3s ease !important;
  }

  .classroom-sidebar.active,
  .dashboard-sidebar.active,
  .sidebar.active {
    left: 0 !important;
  }

  /* === HEADERS === */
  .classroom-header,
  .dashboard-header,
  header {
    width: 100% !important;
    padding: 8px 12px !important;
  }

  .header-content {
    flex-wrap: nowrap !important;
    overflow-x: hidden !important;
    gap: 8px !important;
  }

  .header-left,
  .header-right {
    flex-wrap: nowrap !important;
    gap: 6px !important;
  }

  /* === GRIDS === */
  .classes-grid,
  .tasks-grid,
  .stats-grid,
  .grid,
  .card-grid,
  .alumnos-grid,
  .profesores-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    width: 100% !important;
    padding: 0 !important;
  }

  /* === CARDS === */
  .class-card,
  .task-card,
  .stat-card,
  .card,
  .alumno-card,
  .profesor-card,
  .activity-card {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 0 12px 0 !important;
    box-sizing: border-box !important;
  }

  /* === TABLES === */
  .table-container,
  .data-table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  table {
    min-width: 600px !important;
    width: 100% !important;
  }

  /* === MODALS === */
  .modal-content,
  .modal-dialog,
  .modal {
    max-width: calc(100vw - 20px) !important;
    margin: 10px auto !important;
    width: calc(100% - 20px) !important;
  }

  .modal-body {
    padding: 16px !important;
    max-height: calc(100vh - 100px) !important;
    overflow-y: auto !important;
  }

  /* === FORMS === */
  .form-group,
  .input-group {
    width: 100% !important;
    margin-bottom: 12px !important;
  }

  input,
  select,
  textarea,
  .form-control {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* === BUTTONS === */
  .btn-group,
  .button-group,
  .actions {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    width: 100% !important;
  }

  .btn,
  button,
  .button {
    width: 100% !important;
    white-space: normal !important;
    text-align: center !important;
  }

  /* === TABS === */
  .tab-buttons,
  .tabs,
  .nav-tabs {
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    width: 100% !important;
    gap: 4px !important;
  }

  .tab-button,
  .tab,
  .nav-tab {
    flex-shrink: 0 !important;
    min-width: 80px !important;
    padding: 8px 12px !important;
    font-size: 13px !important;
  }

  /* === ACTIVITY FEED === */
  .activity-stream,
  .activity-feed {
    width: 100% !important;
    overflow-x: hidden !important;
  }

  .activity-item,
  .feed-item {
    flex-direction: column !important;
    align-items: flex-start !important;
    width: 100% !important;
    padding: 12px !important;
  }

  .activity-content,
  .feed-content {
    width: 100% !important;
    margin-top: 8px !important;
  }

  /* === STATS & METRICS === */
  .stats-row,
  .metrics-row {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  .stat-item,
  .metric-item {
    width: 100% !important;
    margin-bottom: 12px !important;
  }

  /* === DROPDOWNS === */
  .dropdown-menu,
  .dropdown-content {
    position: fixed !important;
    max-width: calc(100vw - 40px) !important;
    max-height: 60vh !important;
    overflow-y: auto !important;
  }

  /* === IMAGES === */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* === FLEX CONTAINERS === */
  .flex-row,
  .d-flex {
    flex-wrap: wrap !important;
  }

  /* === TEXT === */
  h1 { font-size: 24px !important; }
  h2 { font-size: 20px !important; }
  h3 { font-size: 18px !important; }
  h4 { font-size: 16px !important; }
  h5 { font-size: 14px !important; }
  h6 { font-size: 13px !important; }

  p, span, div {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* === ATTACHMENTS === */
  .attachments,
  .file-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
  }

  .attachment-item,
  .file-item {
    width: 100% !important;
  }

  /* === DASHBOARD SPECIFIC === */
  .dashboard-grid {
    grid-template-columns: 1fr !important;
  }

  .widget,
  .dashboard-widget {
    width: 100% !important;
    margin-bottom: 16px !important;
  }

  /* === CLASSROOM SPECIFIC === */
  .welcome-section {
    padding: 16px !important;
  }

  .view-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 12px !important;
  }

  .view-actions {
    width: 100% !important;
    flex-direction: column !important;
  }

  .view-filters {
    width: 100% !important;
    overflow-x: auto !important;
  }

  /* === CALENDAR === */
  .calendar-grid,
  .calendar-days {
    font-size: 12px !important;
  }

  .calendar-day {
    min-height: 60px !important;
    padding: 4px !important;
  }

  /* === CHARTS === */
  .chart-container,
  canvas {
    max-width: 100% !important;
    height: auto !important;
  }

  /* === PROFILE === */
  .profile-header,
  .user-profile {
    flex-direction: column !important;
    text-align: center !important;
  }

  .profile-avatar {
    margin: 0 auto 16px !important;
  }

  /* === NAVIGATION === */
  .breadcrumb {
    flex-wrap: wrap !important;
    font-size: 12px !important;
  }

  .pagination {
    flex-wrap: wrap !important;
    gap: 4px !important;
  }

  /* === ALERTS === */
  .alert,
  .notification {
    width: calc(100% - 20px) !important;
    margin: 10px !important;
  }

  /* === OVERFLOW PREVENTION === */
  pre,
  code {
    overflow-x: auto !important;
    max-width: 100% !important;
  }

  /* === FIXED ELEMENTS === */
  .fixed-bottom,
  .fixed-top {
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
  }

  /* === PADDING GENERAL === */
  .content-view,
  .view,
  section {
    padding: 12px !important;
  }

  /* === HIDDEN ON MOBILE === */
  .hide-mobile {
    display: none !important;
  }

  .show-mobile {
    display: block !important;
  }
}

/* Tablet: 768px a 991px */
@media (min-width: 768px) and (max-width: 991px) {
  .classes-grid,
  .tasks-grid,
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .classroom-main {
    margin-left: 0 !important;
  }

  .classroom-sidebar {
    position: fixed !important;
    left: -280px !important;
  }

  .classroom-sidebar.active {
    left: 0 !important;
  }
}
